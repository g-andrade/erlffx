<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>erlffx</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<h1>erlffx</h1>
<p>Copyright Â© 2017 Guilherme Andrade</p>
<p><b>Version:</b> 1.0.0</p>
<p><b>Authors:</b> Guilherme Andrade (<a href="mailto:erlffx(at)gandrade(dot)net"><tt>erlffx(at)gandrade(dot)net</tt></a>).</p>
<p><code>erlffx</code>: Format Preserving Encryption - FFX for Erlang</p>

<hr>

<p><code>erlffx</code> is an Erlang implementation of the mechanism described in the 2010 paper <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.304.1736&amp;rep=rep1&amp;type=pdf">The FFX Mode of Operation for Format-Preserving Encryption</a> by Bellare, Rogaway and Spies. It is based on an existing <a href="https://github.com/michaeltandy/java-ffx-format-preserving-encryption">Java implementation</a> by Michael Tandy.</p>

<p>* AES-128 / AES-192 (only Erlang 19 and up) / AES-256 keys are supported (CBC mode)
* Any positive word length is supported
* Any radix / alphabet size between 2 and 255 is acceptable (10 by default)
* Optional 'tweak' values may be defined
* Number of rounds is configurable (10 by default)</p>

<p>The code was successfully tested on generations 17, 18 and 19 of Erlang/OTP; the unit tests themselves were written using the following lists of test vectors:
* <a href="http://csrc.nist.gov/groups/ST/toolkit/BCM/documents/proposedmodes/ffx/aes-ffx-vectors.txt">AES FFX Test Vector Data</a>
* <a href="http://csrc.nist.gov/groups/ST/toolkit/documents/Examples/FF1samples.pdf">FF1 samples</a></p>

<h3><a name="Examples">Examples</a></h3>
<pre lang="erlang">
% AES-128 CBC / 10-digit decimal words
AesKey = &lt;&lt;43,126,21,22,40,174,210,166,171,247,21,136,9,207,79,60&gt;&gt;,
ValueLength = 10,
Config = erlffx:config(AesKey, ValueLength).

Encrypted = erlffx:encrypt(Config, 123456789). % 2433477484
Decrypted = erlffx:decrypt(Config, Encrypted). % 123456789
</pre>

<hr>

<pre lang="erlang">
% AES-128 CBC / 10-digit decimal words / custom tweak
AesKey = &lt;&lt;43,126,21,22,40,174,210,166,171,247,21,136,9,207,79,60&gt;&gt;,
ValueLength = 10,
Config = erlffx:config(AesKey, ValueLength, #{ tweak =&gt; "9876543210" }).

Encrypted = erlffx:encrypt(Config, 123456789). % 6124200773
Decrypted = erlffx:decrypt(Config, Encrypted). % 123456789
</pre>

<hr>

<pre lang="erlang">
% AES-128 CBC / 16-digit base-36 words / custom tweak
AesKey = &lt;&lt;43,126,21,22,40,174,210,166,171,247,21,136,9,207,79,60&gt;&gt;,
ValueLength = 16,
Config = erlffx:config(AesKey, ValueLength, #{ tweak =&gt; "TQF9J5QDAGSCSPB1", radix =&gt; 36 }).

Encrypted = erlffx:encrypt(Config, 36#C4XPWULBM3M863JH). % 36#C8AQ3U846ZWH6QZP
Decrypted = erlffx:decrypt(Config, Encrypted).           % 36#C4XPWULBM3M863JH
</pre>

<hr>

<pre lang="erlang">
% AES-256 CBC / 6-digit binary words
AesKey = &lt;&lt;43,126,21,22,40,174,210,166,171,247,21,136,9,207,79,60,
           239,67,89,216,213,128,170,79,127,3,109,111,4,252,106,148&gt;&gt;,
ValueLength = 6,
Config = erlffx:config(AesKey, ValueLength, #{ radix =&gt; 2 }).

Encrypted = erlffx:encrypt(Config, 2#000001).  % 2#100100
Decrypted = erlffx:decrypt(Config, Encrypted). % 2#000001
</pre>


<hr>
<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 30 2017, 16:34:09.</i></p>
</body>
</html>
